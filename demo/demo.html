<!DOCTYPE html>
<html>
<head>
	<title>HtmlArea Sandbox</title>
	<link rel="stylesheet" href="../style/default.css" />
	<link rel="stylesheet" href="demo.css" />
	<script src="mootools.js"></script>
	<script src="../src/htmlarea.js"></script>
	<script src="../src/utils/events.js"></script>
	<script src="../src/utils/upload.js"></script>
	<script src="../src/utils/editmedia.js"></script>
	<script src="../src/tools/link.js"></script>
	<script src="../src/tools/image.js"></script>
	<script src="../src/tools/video.js"></script>
</head>
<body>
	<form id="editor_options">
		<label>
			Toolbar:<br/>
			<select id="toolbar_select">
				<option value="normal">Default</option>
				<option value="all">Everything</option>
				<option value="minimal">Minimal</option>
				<option value="custom">Custom</option>
			</select>
		</label>
		<input id="toolbar_custom" style="display:none" />
		<br/>
		<input type="submit" value="Update Editor" />
	</form>
	<form id="form">
		<input type="submit" value="submit" />
	</form>
	<script>
		var toolbar_presets = {
			all: '[bold,italic,underline,strike|sub,sup]|[left,center,right]|[bullet,number,indent,outdent]|[undo,redo]|[link,image,video,mode]',
			normal: '[bold,italic,underline,strike]|[sub,sup|left,center,right]|[bullet,number,indent,outdent]|[link,image,video,mode]',
			minimal: '[bold,italic,underline]|[link]'
		};
		$('toolbar_custom').set('value', toolbar_presets.all);

		$('toolbar_select').addEvent('change', function(e) {
			var value = $('toolbar_select').get('value');
			if (value === 'custom') { $('toolbar_custom').setStyle('display', 'inline'); }
			else { $('toolbar_custom').setStyle('display', 'none'); }
		});

		$('editor_options').addEvent('submit', function(e) {
			e.stop();
			var tools = $('toolbar_select').get('value'), html = editor.getHTML();
			tools = toolbar_presets[tools] || $('toolbar_custom').get('value');
			editor.element.dispose();
			editor = new HtmlArea(null, { tools:tools, value:html });
			editor.element.inject($('form'), 'top');
		});

		var editor = new HtmlArea(null, { value:'<p><i>Hello</i> <b>World!</b></p>' });
		editor.element.inject($('form'), 'top');
	</script>
</body>
</html>
